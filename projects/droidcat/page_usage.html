<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>DroidCat Usage</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
    <td style="padding-left: 0.5em;">
    <div id="projectbrief">DroidCat</div>
    </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">DroidCat Usage </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="droidcat_reproduce"></a>
How to reproduce the evaluation results in the paper</h1>
<p>If you just want to reproduce the empirical results on unified malware detection as presented in the paper, just shoot the simple line as follows</p>
<p>python ML/confusionMatrix_multipleModels_loo_forMajorFamilyOnly.py</p>
<p>This will run the leave-one-out cross validation using the benchmark samples for training and testing, and will produce the confusion matrix shown in the paper, including results with alternative learning algorithms and feature sets.</p>
<p>If you want to reproduce the results on using DroidCat simply for the conventional, binary detection, shoot the following line</p>
<p>python ML/multipleModels_tab.py true true|false The last argument switches output between accuracy and precision/recall/F1.</p>
<p>This will produce binary-detection results with all learning algorithms and feature sets.</p>
<h1><a class="anchor" id="droidcat_usage"></a>
How to use droidcat on a set of unknown apps with the current classification model</h1>
<p>The following instructions are used when running DroidCat on unknown apps using the model already trained with the benchmark samples</p>
<h2><a class="anchor" id="sec1"></a>
1. run static analysis (including the instrumentation) of each app</h2>
<p>scripts/cgInstr.sh apk-file</p>
<p>where the apk-file is the APK of the app under detection.</p>
<h2><a class="anchor" id="sec2"></a>
2. run the instrumented app and generate call traces</h2>
<p>scripts/runAllApps_monkey.sh</p>
<h2><a class="anchor" id="sec3"></a>
3. analyze traces and compute features</h2>
<p>do so for general features, single-app ICC features, inter-app ICC features, and security features using "scripts/allGeneralReport_all.sh", "scripts/allICCReport_all.sh", "scripts/allInterAppICCReport_all.sh", and "scripts/allSecurityReport_all.sh", respectively.</p>
<p>The step will result in feature vector files including gfeatures.txt, iccfeatures.txt, and securityfeatures.txt.</p>
<h2><a class="anchor" id="sec4"></a>
4. classify the apps</h2>
<p>Gather the above three feature vector files in a directory. Let's say, appfv. Then, run shoot the following line:</p>
<p>python ML/DroidCat_detect.py true|false</p>
<p>With the last argument being true for binary detection and false (default) for the unified detection.</p>
<h1><a class="anchor" id="droidcat_retraining"></a>
How to use droidcat with an updated classification model</h1>
<p>To accommodate new malware families and new types of benign apps, the classification model of DroidCat will need to be retrained using a new set of training samples.</p>
<h2><a class="anchor" id="ssec1"></a>
1. obtain the new training data set</h2>
<p>Compute the features of each training sample by following the first three steps in Section <a class="el" href="page_usage.html#droidcat_usage">How to use droidcat on a set of unknown apps with the current classification model</a>. Then merge all their features into the three feature files and move these three files in ML/features.</p>
<h2><a class="anchor" id="ssec2"></a>
2. use DoridCat on the new training data set</h2>
<p>Just use DroidCat as shown in the fourth step of Section <a class="el" href="page_usage.html#droidcat_usage">How to use droidcat on a set of unknown apps with the current classification model</a>, the new classification model will be trained automatically on the new training data set. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Jan 6 2017 11:52:52 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
